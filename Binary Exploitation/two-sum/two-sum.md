# two-sum

## Enoncé
Catégorie : [Binary Exploitation](../)

Points : 100

Tags : `C` `make`

Description :
> Can you solve this?  
> What two positive numbers can make this possible: `n1 > n1 + n2 ` OR `n2 > n1 + n2`  
Enter them here `nc saturn.picoctf.net xxxxx`.

Hints :
1. Integer overflow
2. Not necessarily a math problem


## Approche

L'analyse du fichier source `flag.c` fourni montre que pour afficher le flag, il faut que les conditions suivantes soient réunies :
* les 2 entiers fournis `num1` et `num2` soient strictements positifs
* leur somme `sum = num1 + num2` soit négative


## Solution

En langage C, les différents types ne peuvent stocker qu'un intervalle fini de valeurs. Les bornes dépendent du type et sont définies dans le fichier `limits.h`.

`num1` et `num2` sont de type `int`.

Or pour un `int` la plage de valeurs possibles est [INT_MIN, INT_MAX], avec :
* INT_MIN = -2.147.483.648
* INT_MAX =  2.147.483.647

Si on dénombre les `int`, lorsqu'on dépasse une borne, le dénombrement continue à partir de la borne opposée. Cela veut dire que :
* INT_MAX + 1 = INT_MIN
* INT_MIN - 1 = INT_MAX

Pour réussir le challenge, on peut donc prendre : `num1 = 2147483647` et `num2 = 1`

```bash
{ ~ }  » nc saturn.picoctf.net 53405
n1 > n1 + n2 OR n2 > n1 + n2
What two positive numbers can make this possible:
2147483647
1
You entered 2147483647 and 1
You have an integer overflow
YOUR FLAG IS: picoCTF{Tw0_Sum_Integer_Bu773R_0v3rfl0w_xxxxxxxx}
```
